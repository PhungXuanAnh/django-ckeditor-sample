<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>CKEditor 3.x/Developers Guide/CKPackager - CKSource Docs</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"CKEditor_3.x/Developers_Guide/CKPackager","wgTitle":"CKEditor 3.x/Developers Guide/CKPackager","wgCurRevisionId":6281,"wgRevisionId":6281,"wgArticleId":1940,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"CKEditor_3.x/Developers_Guide/CKPackager","wgRelevantArticleId":1940,"wgRequestId":"WzWpJOsQU@4itdTHpBuG@QAAAAQ","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"preview":true,"publish":true}});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@11i7vzj",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.HighlightjsIntegration"]);});</script>
<link rel="stylesheet" href="../../load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor&amp;only=styles&amp;skin=oldv4.css"/>
<script async="" src="../../load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=oldv4"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<meta name="generator" content="MediaWiki 1.29.1"/>
<link rel="shortcut icon" href="https://c.cksource.com/c/2/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://docs-old.ckeditor.com/opensearch_desc.php" title="CKSource Docs (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://docs-old.ckeditor.com/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="CKSource Docs Atom feed" href="https://docs-old.ckeditor.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<link href="https://fonts.googleapis.com/css?family=Maven+Pro:700,500,400" rel="stylesheet" type="text/css"/>
<link type="text/css" rel="stylesheet" href="../../skins/OldV4/resources/css/base.css" media="all"/>
<link type="text/css" rel="stylesheet" href="../../skins/OldV4/resources/css/main.css" media="all">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="../../skins/OldV4/resources/js/jquery-2.2.4.min.js"<\/script>');</script>
<script type="text/javascript">$(document).ready(function (){
        $("a.hidinglink")
        .each(function () {$("#" + $(this).show().attr("rel")).hide();})
        .click(function () {$("#" + $(this).attr("rel")).slideToggle();return false;});
      });
      </script>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-CKEditor_3_x_Developers_Guide_CKPackager rootpage-CKEditor_3_x skin-oldv4 action-view">      <a href="CKPackager.html#content-wrapper" id="skip-to-content" class="element-invisible element-focusable">Skip to main content</a>
      <div id="wrap">

          <header role="banner" class="main">
              <div>
                  <div class="first">
                      <h1><a href="https://docs-old.ckeditor.com/" title="Return to home page" class="cksource-logo">CKSource</a></h1>
                  </div>
              </div>
          </header>

          <div role="main" id="content-wrapper" tabindex="-1" class="content-wrapper">
              <div>
                        <div id="personaltools"
                    >
            <h5>
                <a href="https://docs-old.ckeditor.com/index.php?title=Special:UserLogin&amp;returnto=CKEditor+3.x%2FDevelopers+Guide%2FCKPackager">
                    Login / Create Account
                </a>
            </h5>
              </div>
    
                        <div id="pagetools" class="">
          <h5>Page Tools</h5>
          <div class="pagetoolslist">
              <ul>
                                    <li id="ca-nstab-main"
                                                class="selected"
                                          >
                        <a href="CKPackager.html"
                           title="View the content page [c]" accesskey="c"                        >
                          Page                        </a>
                    </li>
                                    <li id="ca-talk"
                                                class="new"
                                          >
                        <a href="https://docs-old.ckeditor.com/index.php?title=Talk:CKEditor_3.x/Developers_Guide/CKPackager&amp;action=edit&amp;redlink=1"
                           title="Discussion about the content page [t]" accesskey="t"                        >
                          Discussion                        </a>
                    </li>
                                    <li id="ca-viewsource"
                                          >
                        <a href="https://docs-old.ckeditor.com/index.php?title=CKEditor_3.x/Developers_Guide/CKPackager&amp;action=edit"
                           title="This page is protected.
You can view its source [e]" accesskey="e"                        >
                          View source                        </a>
                    </li>
                                    <li id="ca-history"
                                          >
                        <a href="https://docs-old.ckeditor.com/index.php?title=CKEditor_3.x/Developers_Guide/CKPackager&amp;action=history"
                           title="Past revisions of this page [h]" accesskey="h"                        >
                          History                        </a>
                    </li>
                              </ul>
          </div>
      </div>
    
                  <!--  page content -->
                  <div class="clear"></div>

                      <div id="content">
          <div id="main">
              <div id="mainInside">
                  <div id="mainInsideInside">
                      <div id="breadcrumbs"><span class="subpages">&lt; <a href="https://docs-old.ckeditor.com/CKEditor_3.x" title="CKEditor 3.x">CKEditor 3.x</a>&lrm; | <a href="../Developers_Guide.1.html" title="CKEditor 3.x/Developers Guide">Developers Guide</a></span></div>
                      <h1 id="mainHeader">CKPackager - Compressing CKEditor</h1>

                      <div class="errorbox" style="margin-top: 40px;">
                          <p>This website contains links to software which is either no longer maintained or will be supported only until the end of 2019 (CKFinder 2). For the latest documentation about current CKSource projects, including software like CKEditor 4/CKEditor 5, CKFinder 3, Cloud Services, Letters, Accessibility Checker, please visit <a href="https://docs.ckeditor.com">the new documentation website</a>.</p>
                      </div>

                      <div id="mainCol">
                          <div class="post">
                            <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>
</p>
<div id="toc" class="toc"><div id="toctitle" class="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="CKPackager.html#CKPackager_Purpose"><span class="tocnumber">1</span> <span class="toctext">CKPackager Purpose</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="CKPackager.html#CKEditor_Source"><span class="tocnumber">2</span> <span class="toctext">CKEditor Source</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="CKPackager.html#CKPackager_Basics"><span class="tocnumber">3</span> <span class="toctext">CKPackager Basics</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="CKPackager.html#Working_with_Source_Files"><span class="tocnumber">4</span> <span class="toctext">Working with Source Files</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="CKPackager.html#Selecting_Just_What_You_Want"><span class="tocnumber">5</span> <span class="toctext">Selecting Just What You Want</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="CKPackager.html#Optimizing_Downloads"><span class="tocnumber">6</span> <span class="toctext">Optimizing Downloads</span></a></li>
</ul>
</div>

<p>CKPackager (or the <i>package file generator</i>) is a compact tool that is used to compress JavaScript files in order to optimize the application loading time. CKPackager minifies JavaScript source code of CKEditor. Due to the fact that it merges numerous files into one <code>ckeditor.js</code> file it also reduces the number of HTTP requests to the server.
</p>
<h2><span class="mw-headline" id="CKPackager_Purpose">CKPackager Purpose</span></h2>
<p>If you modify CKEditor source code and would like to generate the <code>ckeditor.js</code> file anew, CKPackager is the right tool to use. Please note that you do not need to re-pack CKEditor and thus utilize the package file generator if you created your own plugin or modified a file that is not a part of <code>ckeditor.js</code>.
</p>
<h2><span class="mw-headline" id="CKEditor_Source">CKEditor Source</span></h2>
<p>The JavaScript code of CKEditor is delivered as one main <code>ckeditor.js</code> where all the code has been compressed and merged (of course, not ALL the code, just the code that is needed for the core and the default plugins &#8212; the code of the dialog windows, for example, is loaded on demand). When you customize CKEditor and change its source code, it makes sense to use our package file generator to compress your own code.
</p>
<h2><span class="mw-headline" id="CKPackager_Basics">CKPackager Basics</span></h2>
<p>Start with downloading the <code>ckpackager.jar</code> file from 
<a rel="nofollow" class="external free" href="http://svn.ckeditor.com/CKPackager/trunk/bin/ckpackager.jar">http://svn.ckeditor.com/CKPackager/trunk/bin/ckpackager.jar</a> and put it at the root of your CKEditor folder.  There is also a <code>ckpackager.exe</code> file for those using the Windows operating system; you can download it from here: <a rel="nofollow" class="external free" href="http://svn.ckeditor.com/CKPackager/trunk/bin/ckpackager.exe">http://svn.ckeditor.com/CKPackager/trunk/bin/ckpackager.exe</a>. Please note that both files are located in the SVN repository, so they should always contain the latest versions.
</p><p>Backup the existing <code>ckeditor.js</code> and <code>ckeditor_basic.js</code> files, so that you could check that the process is working correctly.
</p><p>The first step is to verify that your Java installation works correctly just like your environment, so open the console/terminal/command prompt. Navigate to the CKEditor folder and type the command that starts the compilation. If you have not changed anything in the <code>_source</code> folder, this should generate the files identical to the original <code>ckeditor.js</code> and <code>ckeditor_basic.js</code> .
</p>
<pre class="code2highlight">java -jar ckpackager.jar ckeditor.pack</pre>
<p>The generated JavaScript files may not be identical to the original ones due to some changes in the version of CKPackager used to compress the released version of CKEditor as well as  some improvements made to CKPackager since that moment, but the overall should be similar and you should be able to use the new files without differences.
</p>
<h2><span class="mw-headline" id="Working_with_Source_Files">Working with Source Files</span></h2>
<p>You can now try to apply some changes to the files located in the <code>_source</code> directory and test them using the <code>ckeditor_source.js</code> file. When you are ready to deploy the modified files, you just have to compress them all again. As always, you should be careful with your changes, because compressing the source means that any slight error can be fatal.
</p><p>The new packager is based on <a rel="nofollow" class="external text" href="http://www.mozilla.org/rhino/">Rhino</a>, the JavaScript implementation in Java from the people at Mozilla. As it is an external solution, it is not entirely clear how it deals with missing semicolons and other minor issues that can be fatal for some compression systems. Obviously it is better to write clean code instead of relying on the tools to fix them.
</p>
<h2><span class="mw-headline" id="Selecting_Just_What_You_Want">Selecting Just What You Want</span></h2>
<p>The <code>ckeditor.js</code> file includes all CKEditor plugins (but not all the plugin code: the dialog windows are lazy loaded only when needed). If you do not want to provide some specific options to your users, you can remove some plugins &#8212; not only from the editor toolbar, but also from the packaged JavaScript file. As a result you can end up with a much smaller <code>ckeditor.js</code> file.
</p><p>In order to change what is included in the compressed JavaScript file you need to edit <code>ckeditor.pack</code> and remove the entries for plugins that you do not need.
</p><p>Do not alter the entries under <code>_source/core/*</code>, because the editor will probably fail. Custom packaging means that you are creating your own CKEditor file that you will need to support by yourself.
</p><p>An example of a possible modification would be to delete the following line in order to remove the <a href="../Users_Guide/Interface/Elements_Path.html" title="CKEditor 3.x/Users Guide/Interface/Elements Path">elements path</a> that displays HTML elements of the document at the bottom of the editor interface.
</p>
<pre class="code2highlight">'_source/plugins/elementspath/plugin.js',</pre>
<p>Please note that you can also use the <code><a rel="nofollow" class="external text" href="http://docs.cksource.com/ckeditor_api/symbols/CKEDITOR.config.html#.removePlugins">removePlugins</a></code> configuration value to remove the plugin, but it would mean that the plugin code would still be loaded.
</p>
<pre class="code2highlight lang-javascript">config.removePlugins = 'elementspath'</pre>
<p>If you want to get rid of it altogether and save some bytes on loading, you can modify the packager settings and recompress the files. The <code>ckeditor.js</code> file will now be approximately 2 kB smaller.
Please note that since some plugins might depend on others to work, you need to be careful not to remove the files too rigorously. If you remove a default plugin, it must be marked as such with the <code>removePlugins</code> configuration setting or the editor will try to load it and will fail in the process.
</p>
<h2><span class="mw-headline" id="Optimizing_Downloads">Optimizing Downloads</span></h2>
<p>If you check the <code>ckeditor.pack</code> file, you can see that by default the language file is not compressed. This is due to the fact that the editor interface is localized to many languages and the English language file is not used by everyone. Packaging the <code>lang/en.js</code> file for everybody would mean a waste of bytes, but if you know that your users only speak one language, you can specify that language in the <code>ckeditor.pack</code> file and get it bundled along the others.
This will increase the size of <code>ckeditor.js</code>, but those bytes would normally be downloaded separately in another request, so the editor will be slightly faster as this additional step would be eliminated.
</p><p>At the bottom of the <code>ckeditor.pack</code> file you can see that the <code>kama.js</code> skin file is also being bundled in the compressed file. If you are using another skin, you can adjust that entry to remove the Kama skin file and put your own one, avoiding the extra download of your selected skin.
</p><p>Note that if you are using some custom plugins, you can include them in the list as well, so that on loading they would be ready along the rest of CKEditor files and any extra delay in the usage of plugins would be eliminated.
</p>
<!-- 
NewPP limit report
Cached time: 20180628234423
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.015 seconds
Real time usage: 0.017 seconds
Preprocessor visited node count: 52/1000000
Preprocessor generated node count: 96/1000000
Post‐expand include size: 79/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key ckeditor_docsold:pcache:idhash:1940-0!*!0!!en!*!* and timestamp 20180628234423 and revision id 6281
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://docs-old.ckeditor.com/index.php?title=CKEditor_3.x/Developers_Guide/CKPackager&amp;oldid=6281">https://docs-old.ckeditor.com/index.php?title=CKEditor_3.x/Developers_Guide/CKPackager&amp;oldid=6281</a>"</div>
                          </div>
                          <div class="clear"></div>
                      </div>

                                            <div id="contentfooter">
                           This page was last edited on 16 May 2011, at 13:57.                        </div>
                                      </div>
              </div>
          </div>
      </div><!--/content-->
                      <!--  & of page content  -->
              </div>
          </div>
      </div>

        <footer class="main">
        <div>
            <div class="additional">
                <small role="contentinfo">&copy; 2003 - 2018 <a href="https://cksource.com/" title="Go to CKSource">CKSource</a> Sp. z o.o. sp.k. All rights reserved</small>
            </div>
        </div>
    </footer>

    <!-- Google Tag Manager -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MX62SZ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function (w, d, s, l, i) {w[l] = w[l] || [];w[l].push({'gtm.start': new Date().getTime(), event: 'gtm.js'});var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';j.async = true;j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;f.parentNode.insertBefore(j, f);})(window, document, 'script', 'dataLayer', 'GTM-MX62SZ');</script>
    <!-- End Google Tag Manager -->

    </body>
    </html>
    