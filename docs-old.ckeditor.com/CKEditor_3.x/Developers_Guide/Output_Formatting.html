<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>CKEditor 3.x/Developers Guide/Output Formatting - CKSource Docs</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"CKEditor_3.x/Developers_Guide/Output_Formatting","wgTitle":"CKEditor 3.x/Developers Guide/Output Formatting","wgCurRevisionId":5721,"wgRevisionId":5721,"wgArticleId":757,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"CKEditor_3.x/Developers_Guide/Output_Formatting","wgRelevantArticleId":757,"wgRequestId":"WzWpIT35r@OQ5VxhRJw8sgAAAQw","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"preview":true,"publish":true}});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@11i7vzj",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.action.view.postEdit","site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.HighlightjsIntegration"]);});</script>
<link rel="stylesheet" href="../../load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor&amp;only=styles&amp;skin=oldv4.css"/>
<script async="" src="../../load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=oldv4"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<meta name="generator" content="MediaWiki 1.29.1"/>
<link rel="shortcut icon" href="https://c.cksource.com/c/2/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://docs-old.ckeditor.com/opensearch_desc.php" title="CKSource Docs (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://docs-old.ckeditor.com/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="CKSource Docs Atom feed" href="https://docs-old.ckeditor.com/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<link href="https://fonts.googleapis.com/css?family=Maven+Pro:700,500,400" rel="stylesheet" type="text/css"/>
<link type="text/css" rel="stylesheet" href="../../skins/OldV4/resources/css/base.css" media="all"/>
<link type="text/css" rel="stylesheet" href="../../skins/OldV4/resources/css/main.css" media="all">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="../../skins/OldV4/resources/js/jquery-2.2.4.min.js"<\/script>');</script>
<script type="text/javascript">$(document).ready(function (){
        $("a.hidinglink")
        .each(function () {$("#" + $(this).show().attr("rel")).hide();})
        .click(function () {$("#" + $(this).attr("rel")).slideToggle();return false;});
      });
      </script>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-CKEditor_3_x_Developers_Guide_Output_Formatting rootpage-CKEditor_3_x skin-oldv4 action-view">      <a href="Output_Formatting.html#content-wrapper" id="skip-to-content" class="element-invisible element-focusable">Skip to main content</a>
      <div id="wrap">

          <header role="banner" class="main">
              <div>
                  <div class="first">
                      <h1><a href="https://docs-old.ckeditor.com/" title="Return to home page" class="cksource-logo">CKSource</a></h1>
                  </div>
              </div>
          </header>

          <div role="main" id="content-wrapper" tabindex="-1" class="content-wrapper">
              <div>
                        <div id="personaltools"
                    >
            <h5>
                <a href="https://docs-old.ckeditor.com/index.php?title=Special:UserLogin&amp;returnto=CKEditor+3.x%2FDevelopers+Guide%2FOutput+Formatting">
                    Login / Create Account
                </a>
            </h5>
              </div>
    
                        <div id="pagetools" class="">
          <h5>Page Tools</h5>
          <div class="pagetoolslist">
              <ul>
                                    <li id="ca-nstab-main"
                                                class="selected"
                                          >
                        <a href="Output_Formatting.html"
                           title="View the content page [c]" accesskey="c"                        >
                          Page                        </a>
                    </li>
                                    <li id="ca-talk"
                                                class="new"
                                          >
                        <a href="https://docs-old.ckeditor.com/index.php?title=Talk:CKEditor_3.x/Developers_Guide/Output_Formatting&amp;action=edit&amp;redlink=1"
                           title="Discussion about the content page [t]" accesskey="t"                        >
                          Discussion                        </a>
                    </li>
                                    <li id="ca-viewsource"
                                          >
                        <a href="https://docs-old.ckeditor.com/index.php?title=CKEditor_3.x/Developers_Guide/Output_Formatting&amp;action=edit"
                           title="This page is protected.
You can view its source [e]" accesskey="e"                        >
                          View source                        </a>
                    </li>
                                    <li id="ca-history"
                                          >
                        <a href="https://docs-old.ckeditor.com/index.php?title=CKEditor_3.x/Developers_Guide/Output_Formatting&amp;action=history"
                           title="Past revisions of this page [h]" accesskey="h"                        >
                          History                        </a>
                    </li>
                              </ul>
          </div>
      </div>
    
                  <!--  page content -->
                  <div class="clear"></div>

                      <div id="content">
          <div id="main">
              <div id="mainInside">
                  <div id="mainInsideInside">
                      <div id="breadcrumbs"><span class="subpages">&lt; <a href="https://docs-old.ckeditor.com/CKEditor_3.x" title="CKEditor 3.x">CKEditor 3.x</a>&lrm; | <a href="../Developers_Guide.1.html" title="CKEditor 3.x/Developers Guide">Developers Guide</a></span></div>
                      <h1 id="mainHeader">Output Formatting</h1>

                      <div class="errorbox" style="margin-top: 40px;">
                          <p>This website contains links to software which is either no longer maintained or will be supported only until the end of 2019 (CKFinder 2). For the latest documentation about current CKSource projects, including software like CKEditor 4/CKEditor 5, CKFinder 3, Cloud Services, Letters, Accessibility Checker, please visit <a href="https://docs.ckeditor.com">the new documentation website</a>.</p>
                      </div>

                      <div id="mainCol">
                          <div class="post">
                            <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>CKEditor offers a powerful and flexible output formatting system. It gives developers full control over what the HTML code produced by the editor will look like. The system makes it possible to control all HTML tags and can give a different result for each one of them. 
</p>
<h2><span class="mw-headline" id="The_HTML_Writer">The HTML Writer</span></h2>
<p>Technically speaking, writing the final output is a task executed by the <code><a rel="nofollow" class="external text" href="http://docs.cksource.com/ckeditor_api/symbols/CKEDITOR.htmlWriter.html">CKEDITOR.htmlWriter</a></code> class ("writer"), used by the <code>CKEDITOR.htmlDataProcessor</code> class. Therefore, the current writer instance for a specific editor instance can be retrieved by the <code><i>editorInstance</i>.dataProcessor.writer</code> property. 
</p><p>It is possible to configure several output formatting options by setting the writer properties. The following example summarizes the most used of them, giving their default values: 
</p>
<pre class="code2highlight">var writer = editor.dataProcessor.writer;

// The character sequence to use for every indentation step.
writer.indentationChars = '\t';

// The way to close self closing tags, like &lt;br /&gt;.
writer.selfClosingEnd = ' /&gt;';

// The character sequence to be used for line breaks.
writer.lineBreakChars = '\n';

// The writing rules for the &lt;p&gt; tag.
writer.setRules( 'p',
    {
        // Indicates that this tag causes indentation on line breaks inside of it.
        indent&#160;: true,

        // Inserts a line break before the &lt;p&gt; opening tag.
        breakBeforeOpen&#160;: true,

        // Inserts a line break after the &lt;p&gt; opening tag.
        breakAfterOpen&#160;: true,

        // Inserts a line break before the &lt;/p&gt; closing tag.
        breakBeforeClose&#160;: false,

        // Inserts a line break after the &lt;/p&gt; closing tag.
        breakAfterClose&#160;: true
    });</pre>
<h2><span class="mw-headline" id="Setting_Writer_Rules">Setting Writer Rules</span></h2>
<p>Because the writer is a property of each editor instance, and also due to its dependency on the writer plugin to be loaded, the best way to modify it is by listening to the <code><a rel="nofollow" class="external text" href="http://docs.cksource.com/ckeditor_api/symbols/CKEDITOR.html#event:instanceReady">instanceReady</a></code> event, so it is safe to assume that the <code>dataProcessor</code> property will be loaded and ready for changes. The following code shows an example of this approach used when creating an editor instance: 
</p>
<pre class="code2highlight">CKEDITOR.replace( 'editor1',
    {
        on&#160;:
        {
            instanceReady&#160;: function( ev )
            {
                // Output paragraphs as &lt;p&gt;Text&lt;/p&gt;.
                this.dataProcessor.writer.setRules( 'p',
                    {
                        indent&#160;: false,
                        breakBeforeOpen&#160;: true,
                        breakAfterOpen&#160;: false,
                        breakBeforeClose&#160;: false,
                        breakAfterClose&#160;: true
                    });
            }
        }
    });</pre> 
<p>Another method is to use the <code><a rel="nofollow" class="external text" href="http://docs.cksource.com/ckeditor_api/symbols/CKEDITOR.html">CKEDITOR</a></code> object, so all editor instances will be changed: 
</p>
<pre class="code2highlight">CKEDITOR.on( 'instanceReady', function( ev )
    {
        // Ends self closing tags the HTML4 way, like &lt;br&gt;.
        ev.editor.dataProcessor.writer.selfClosingEnd = '&gt;';
    });</pre>

<!-- 
NewPP limit report
Cached time: 20180628135121
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.010 seconds
Real time usage: 0.011 seconds
Preprocessor visited node count: 22/1000000
Preprocessor generated node count: 72/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key ckeditor_docsold:pcache:idhash:757-0!*!*!!*!*!* and timestamp 20180628135121 and revision id 5721
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://docs-old.ckeditor.com/index.php?title=CKEditor_3.x/Developers_Guide/Output_Formatting&amp;oldid=5721">https://docs-old.ckeditor.com/index.php?title=CKEditor_3.x/Developers_Guide/Output_Formatting&amp;oldid=5721</a>"</div>
                          </div>
                          <div class="clear"></div>
                      </div>

                                            <div id="contentfooter">
                           This page was last edited on 13 January 2011, at 15:53.                        </div>
                                      </div>
              </div>
          </div>
      </div><!--/content-->
                      <!--  & of page content  -->
              </div>
          </div>
      </div>

        <footer class="main">
        <div>
            <div class="additional">
                <small role="contentinfo">&copy; 2003 - 2018 <a href="https://cksource.com/" title="Go to CKSource">CKSource</a> Sp. z o.o. sp.k. All rights reserved</small>
            </div>
        </div>
    </footer>

    <!-- Google Tag Manager -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MX62SZ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function (w, d, s, l, i) {w[l] = w[l] || [];w[l].push({'gtm.start': new Date().getTime(), event: 'gtm.js'});var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';j.async = true;j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;f.parentNode.insertBefore(j, f);})(window, document, 'script', 'dataLayer', 'GTM-MX62SZ');</script>
    <!-- End Google Tag Manager -->

    </body>
    </html>
    